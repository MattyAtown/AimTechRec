
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Job Connector</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body style="background-image: url('/static/images/background.png'); background-size: cover;">
    <header style="display: flex; align-items: center; justify-content: space-between; padding: 20px;">
        <img src="/static/images/logo.png" alt="Logo" style="height: 60px;">
        <h1 style="color: white; font-size: 2em;">Job Connector</h1>
    </header>

    <section class="filters" style="padding: 20px; color: white;">
        <h2>Search Jobs</h2>
        <form id="jobSearchForm">
            <input type="text" id="title" placeholder="Job Title">
            <input type="text" id="location" placeholder="Location">
            <button type="submit">Search</button>
        </form>
    </section>

    <section style="display: flex; gap: 40px; padding: 20px;">
        <div style="width: 50%; background: rgba(255,255,255,0.8); padding: 15px; border-radius: 8px;">
            <h2>Search Results</h2>
            <div id="jobResults"></div>
        </div>
        <div style="width: 50%; background: rgba(255,255,255,0.8); padding: 15px; border-radius: 8px;">
            <h2>Matched for You</h2>
            <div id="matchedJobs">
                <!-- Matched jobs can be populated here based on CV logic -->
            </div>
        </div>
    </section>

    <script>
        document.getElementById('jobSearchForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const title = document.getElementById('title').value;
            const location = document.getElementById('location').value;

            fetch(`/api/jobs?title=${encodeURIComponent(title)}&location=${encodeURIComponent(location)}`)
                .then(res => res.json())
                .then(data => {
                    const container = document.getElementById('jobResults');
                    container.innerHTML = '';
                    if (data.length === 0) {
                        container.innerHTML = '<p>No jobs found.</p>';
                    } else {
                        data.forEach(job => {
                            const jobCard = document.createElement('div');
                            jobCard.innerHTML = `
                                <h3>${job.title}</h3>
                                <p><strong>Company:</strong> ${job.company}</p>
                                <p><strong>Location:</strong> ${job.location}</p>
                                <p>${job.description.slice(0, 200)}...</p>
                            `;
                            jobCard.style.borderBottom = '1px solid #ccc';
                            jobCard.style.paddingBottom = '10px';
                            jobCard.style.marginBottom = '10px';
                            container.appendChild(jobCard);
                        });
                    }
                })
                .catch(err => {
                    document.getElementById('jobResults').innerHTML = '<p>Error loading jobs.</p>';
                });
        });
    </script>
</body>
</html>
